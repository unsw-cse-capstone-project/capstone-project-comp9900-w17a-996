{"ast":null,"code":"var _jsxFileName = \"C:\\\\UNSW Courses\\\\2020 T3\\\\Capstone Project\\\\capstone-project-comp9900-w17a-996\\\\filmfinder\\\\src\\\\routes\\\\login.js\";\nimport { Alert } from \"bootstrap\";\nimport { withRouter } from 'react-router';\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/centerCenter.css\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      message: -1\n    };\n  }\n\n  handleChange(ev, inputUsername) {\n    console.log(inputUsername);\n    var data = {\n      inputUsername: inputUsername\n    }; // post data to back-end\n\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(response => console.log(response)).then(data => {\n      console.log(\"Success:\", data);\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n  }\n\n  handleClick(ev, inputPassword) {\n    console.log(\"inputPassword\", inputPassword); // this.syncSleep(5000);\n    // receive member state from back-end\n\n    fetch('/login').then(result => result.json()).then(data => this.checkPassword(data.password, inputPassword)); // this.syncSleep(1000);\n    // console.log(this.state);\n  }\n\n  checkPassword(a, b) {\n    console.log(a, b);\n\n    if (a == b) {\n      console.log(\"Allow Login\");\n      this.props.history.push(\"/profile\");\n    } else {\n      console.log(\"Reject!\");\n    }\n  }\n\n  syncSleep(time) {\n    const start = new Date().getTime();\n\n    while (new Date().getTime() - start < time) {}\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box_login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"h3 mb-3 font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, \"Welcome to FilmFinder!\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"inputUsername\",\n      onChange: ev => this.handleChange(ev, this.refs.inputUsername.value),\n      className: \"form-control\",\n      placeholder: \"Username\",\n      required: true,\n      autofocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"inputPassword\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-lg btn-dark btn-block\",\n      onClick: ev => this.handleClick(ev, this.refs.inputPassword.value),\n      ref: \"btnLogin\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, \"Sign in\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, \"Not a member yet?\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-5 mb-3 text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, \"FilmFinder\\xA9 2020 - 2021\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/UNSW Courses/2020 T3/Capstone Project/capstone-project-comp9900-w17a-996/filmfinder/src/routes/login.js"],"names":["Alert","withRouter","React","Component","Link","Login","state","message","handleChange","ev","inputUsername","console","log","data","fetch","method","headers","Accept","body","JSON","stringify","then","response","catch","error","handleClick","inputPassword","result","json","checkPassword","password","a","b","props","history","push","syncSleep","time","start","Date","getTime","render","refs","value"],"mappings":"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","sourcesContent":["import { Alert } from \"bootstrap\";\r\nimport {withRouter} from 'react-router';\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../styles/centerCenter.css\";\r\n\r\nclass Login extends Component {\r\n  state = { message: -1 };\r\n\r\n  handleChange(ev, inputUsername) {\r\n    console.log(inputUsername);\r\n    var data = {\r\n      inputUsername: inputUsername\r\n    }\r\n\r\n    // post data to back-end\r\n    fetch(\"/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((response) => console.log(response))\r\n      .then((data) => {\r\n        console.log(\"Success:\", data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  }\r\n\r\n  handleClick(ev, inputPassword) {\r\n    console.log(\"inputPassword\",inputPassword);\r\n\r\n    // this.syncSleep(5000);\r\n    // receive member state from back-end\r\n    fetch('/login')\r\n      .then(result => result.json())\r\n      .then(data => \r\n          this.checkPassword(data.password, inputPassword)\r\n      );\r\n    \r\n      // this.syncSleep(1000);\r\n      // console.log(this.state);\r\n   }\r\n\r\n   checkPassword(a, b) {\r\n     console.log(a, b)\r\n    if (a == b){\r\n      console.log(\"Allow Login\");\r\n      this.props.history.push(\"/profile\");\r\n    }\r\n    else{\r\n      console.log(\"Reject!\");\r\n    }\r\n   }\r\n\r\n   syncSleep(time) {\r\n    const start = new Date().getTime();\r\n    while (new Date().getTime() - start < time) {}\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"box_login\">\r\n          <form className=\"form-signin\">\r\n            <div className=\"text-center\">\r\n              <h1 className=\"h3 mb-3 font-weight-normal\">\r\n                Welcome to FilmFinder!\r\n              </h1>\r\n            </div>\r\n\r\n            <input\r\n              type=\"text\"\r\n              ref=\"inputUsername\"\r\n              onChange = {\r\n                (ev) =>\r\n                this.handleChange(\r\n                  ev, this.refs.inputUsername.value\r\n                )\r\n              }\r\n              className=\"form-control\"\r\n              placeholder=\"Username\"\r\n              required\r\n              autofocus\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              ref=\"inputPassword\"\r\n              className=\"form-control\"\r\n              placeholder=\"Password\"\r\n              required\r\n            />\r\n            <br />\r\n            <button\r\n              class=\"btn btn-lg btn-dark btn-block\"\r\n              onClick={(ev) =>\r\n                this.handleClick(\r\n                  ev,\r\n                  this.refs.inputPassword.value\r\n                )\r\n              }\r\n              ref=\"btnLogin\"\r\n              type=\"submit\"\r\n            >\r\n              Sign in\r\n            </button>\r\n          </form>\r\n\r\n          <div className=\"text-center\">\r\n            <br />\r\n            <Link to=\"/register\">Not a member yet?</Link>\r\n            <p className=\"mt-5 mb-3 text-muted\">FilmFinder&copy; 2020 - 2021</p>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}